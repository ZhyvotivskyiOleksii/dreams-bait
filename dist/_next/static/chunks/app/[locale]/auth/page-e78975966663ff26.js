(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{6862:function(e,a,t){Promise.resolve().then(t.bind(t,5951))},2421:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5733:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5951:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var l=t(7437),s=t(2265),r=t(7138),n=t(8087),i=t(6463),o=t(2421);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,t(8030).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var c=t(5733),d=t(3866),m=t(9997);function b(){let e=(0,n.useTranslations)("auth"),a=(0,n.useTranslations)("common"),t=(0,n.useTranslations)("breadcrumbs"),b=(0,n.useTranslations)("nav"),x=(0,n.useLocale)(),p=(0,i.useRouter)(),h=(0,i.useSearchParams)(),[v,g]=(0,s.useState)("login"),[f,y]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[z,I]=(0,s.useState)(""),[Z,_]=(0,s.useState)(""),[q,M]=(0,s.useState)(""),[O,E]=(0,s.useState)(""),[P,T]=(0,s.useState)(""),[U,A]=(0,s.useState)(!1),[B,H]=(0,s.useState)(null),[J,L]=(0,s.useState)(!1),R=h.get("mode"),X=h.get("returnTo"),Q=X&&(X==="/".concat(x)||X.startsWith("/".concat(x,"/")))?X:null;(0,s.useEffect)(()=>{("login"===R||"register"===R)&&g(R)},[R]);let V=[{value:"albania",label:e("countries.albania")},{value:"andorra",label:e("countries.andorra")},{value:"armenia",label:e("countries.armenia")},{value:"austria",label:e("countries.austria")},{value:"azerbaijan",label:e("countries.azerbaijan")},{value:"belarus",label:e("countries.belarus")},{value:"belgium",label:e("countries.belgium")},{value:"bosniaHerzegovina",label:e("countries.bosniaHerzegovina")},{value:"bulgaria",label:e("countries.bulgaria")},{value:"croatia",label:e("countries.croatia")},{value:"cyprus",label:e("countries.cyprus")},{value:"czechia",label:e("countries.czechia")},{value:"denmark",label:e("countries.denmark")},{value:"estonia",label:e("countries.estonia")},{value:"finland",label:e("countries.finland")},{value:"france",label:e("countries.france")},{value:"georgia",label:e("countries.georgia")},{value:"germany",label:e("countries.germany")},{value:"greece",label:e("countries.greece")},{value:"hungary",label:e("countries.hungary")},{value:"iceland",label:e("countries.iceland")},{value:"ireland",label:e("countries.ireland")},{value:"italy",label:e("countries.italy")},{value:"kosovo",label:e("countries.kosovo")},{value:"latvia",label:e("countries.latvia")},{value:"liechtenstein",label:e("countries.liechtenstein")},{value:"lithuania",label:e("countries.lithuania")},{value:"luxembourg",label:e("countries.luxembourg")},{value:"malta",label:e("countries.malta")},{value:"moldova",label:e("countries.moldova")},{value:"monaco",label:e("countries.monaco")},{value:"montenegro",label:e("countries.montenegro")},{value:"netherlands",label:e("countries.netherlands")},{value:"northMacedonia",label:e("countries.northMacedonia")},{value:"norway",label:e("countries.norway")},{value:"poland",label:e("countries.poland")},{value:"portugal",label:e("countries.portugal")},{value:"romania",label:e("countries.romania")},{value:"russia",label:e("countries.russia")},{value:"sanMarino",label:e("countries.sanMarino")},{value:"serbia",label:e("countries.serbia")},{value:"slovakia",label:e("countries.slovakia")},{value:"slovenia",label:e("countries.slovenia")},{value:"spain",label:e("countries.spain")},{value:"sweden",label:e("countries.sweden")},{value:"switzerland",label:e("countries.switzerland")},{value:"turkey",label:e("countries.turkey")},{value:"ukraine",label:e("countries.ukraine")},{value:"unitedKingdom",label:e("countries.unitedKingdom")},{value:"vatican",label:e("countries.vatican")}],W=async a=>{a.preventDefault(),H(null),L(!0);let t=O.trim(),l=P.trim();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){H(e("validation.email")),L(!1);return}if(!l){H(e("validation.passwordRequired")),L(!1);return}if("login"===v){let{error:e}=await d.O.auth.signInWithPassword({email:t,password:l});e?H(e.message):p.push(null!=Q?Q:"/".concat(x,"/account"))}else{if(!f.trim()){H(e("validation.firstName")),L(!1);return}if(!j.trim()){H(e("validation.lastName")),L(!1);return}if(!w.trim()){H(e("validation.phone")),L(!1);return}if(!C.trim()){H(e("validation.country")),L(!1);return}if(!z.trim()){H(e("validation.address")),L(!1);return}if(!Z.trim()){H(e("validation.postalCode")),L(!1);return}if(!q.trim()){H(e("validation.city")),L(!1);return}if(l.length<8){H(e("validation.passwordLength")),L(!1);return}let{data:a,error:s}=await d.O.auth.signUp({email:t,password:l,options:{data:{first_name:f.trim(),last_name:j.trim(),phone:w.trim(),country:C.trim(),address:z.trim(),postal_code:Z.trim(),city:q.trim()}}});s?H(s.message):(a.user&&await d.O.from("profiles").upsert({id:a.user.id,email:t,first_name:f.trim(),last_name:j.trim(),phone:w.trim(),country:C.trim(),address:z.trim(),postal_code:Z.trim(),city:q.trim(),favorites:[]}),p.push(null!=Q?Q:"/".concat(x,"/account")))}L(!1)};return(0,l.jsx)("div",{className:"min-h-screen bg-slate-50 pt-28 pb-16",children:(0,l.jsxs)("div",{className:"container mx-auto px-4",children:[(0,l.jsx)(m.default,{items:[{label:t("home"),href:"/".concat(x),isHome:!0},{label:b("auth")}]}),(0,l.jsxs)("div",{className:"mx-auto w-full max-w-md",children:[(0,l.jsxs)("div",{className:"mb-8 text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-heading mb-2",children:e("title")}),(0,l.jsx)("p",{className:"text-slate-500 text-sm",children:e("subtitle")})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mb-6",children:[(0,l.jsx)("button",{type:"button",onClick:()=>g("login"),className:"flex-1 rounded-lg py-2 text-sm font-semibold ".concat("login"===v?"bg-slate-900 text-white":"bg-slate-100 text-slate-600"),children:e("login")}),(0,l.jsx)("button",{type:"button",onClick:()=>g("register"),className:"flex-1 rounded-lg py-2 text-sm font-semibold ".concat("register"===v?"bg-slate-900 text-white":"bg-slate-100 text-slate-600"),children:e("register")})]}),(0,l.jsxs)("form",{onSubmit:W,className:"space-y-4 bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:["register"===v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("firstName")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"text",required:!0,value:f,onChange:e=>y(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("lastName")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"text",required:!0,value:j,onChange:e=>N(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("phone")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"tel",required:!0,value:w,onChange:e=>k(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("country")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsxs)("div",{className:"relative mt-2",children:[(0,l.jsxs)("select",{required:!0,value:C,onChange:e=>S(e.target.value),className:"w-full appearance-none border border-gray-300 rounded-lg px-3 py-2 pr-10 text-sm bg-white",children:[(0,l.jsx)("option",{value:"",children:e("countryPlaceholder")}),V.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,l.jsx)(o.Z,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"})]})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("address")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"text",required:!0,value:z,onChange:e=>I(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("postalCode")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"text",required:!0,value:Z,onChange:e=>_(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("city")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"text",required:!0,value:q,onChange:e=>M(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("email")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsx)("input",{type:"email",required:!0,value:O,onChange:e=>E(e.target.value),className:"mt-2 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,l.jsxs)("label",{className:"block text-sm font-medium text-slate-700",children:[e("password")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"}),(0,l.jsxs)("div",{className:"relative mt-2",children:[(0,l.jsx)("input",{type:U?"text":"password",required:!0,value:P,onChange:e=>T(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 text-sm"}),(0,l.jsx)("button",{type:"button",onClick:()=>A(!U),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600","aria-label":U?e("hidePassword"):e("showPassword"),children:U?(0,l.jsx)(u,{className:"w-4 h-4"}):(0,l.jsx)(c.Z,{className:"w-4 h-4"})})]})]}),B&&(0,l.jsx)("p",{className:"text-sm text-red-600",children:B}),(0,l.jsx)("button",{type:"submit",disabled:J,className:"w-full rounded-lg bg-[#7dd3fc] text-black font-semibold py-2 hover:bg-[#f5c542] transition-colors disabled:opacity-60",children:J?a("loading"):"login"===v?e("login"):e("register")})]}),(0,l.jsx)("div",{className:"mt-6 text-center text-sm text-slate-500",children:(0,l.jsx)(r.default,{href:"/".concat(x),children:e("backToSite")})})]})]})})}function x(){return(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(b,{})})}},9997:function(e,a,t){"use strict";t.d(a,{default:function(){return o}});var l=t(7437),s=t(7138);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var n=t(7592),i=t(4839);function o(e){let{items:a,className:t}=e;return(0,l.jsx)("div",{className:(0,i.Z)("sm:sticky sm:top-16 z-40 -mx-4 bg-slate-50 px-2 pt-2 pb-3 sm:pt-5 sm:pb-5 mb-3 sm:mb-6",t),children:(0,l.jsx)("nav",{className:"flex flex-wrap items-center gap-2 text-[13px] font-medium text-[#3e3e3e]",children:a.map((e,t)=>{let i=0===t,o=e.isHome?(0,l.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,l.jsx)(r,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:e.label})]}):(0,l.jsx)("span",{children:e.label});return(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[!i&&(0,l.jsx)(n.Z,{className:"h-4 w-4 text-slate-400"}),e.href?(0,l.jsx)(s.default,{href:e.href,className:"hover:text-slate-700 transition-colors",children:o}):(0,l.jsx)("span",{className:t===a.length-1?"text-slate-700":void 0,children:o})]},"".concat(e.label,"-").concat(t))})})})}},3866:function(e,a,t){"use strict";t.d(a,{O:function(){return n}});var l=t(7204);let s="https://vlrzcbmjbywdptqizrmk.supabase.co".trim(),r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZscnpjYm1qYnl3ZHB0cWl6cm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzNjM0NzksImV4cCI6MjA4NDkzOTQ3OX0.pgB3GB70WRz95nQVMUvpQa8iSPwkpCO2g6Z4BVfZOiM".trim();if(!s||!r)throw Error("Missing Supabase environment variables.");try{new URL(s)}catch(e){throw Error('Invalid NEXT_PUBLIC_SUPABASE_URL: "'.concat(s,'". Use https://<project>.supabase.co'))}let n=(0,l.eI)(s,r)},4839:function(e,a,t){"use strict";a.Z=function(){for(var e,a,t=0,l="",s=arguments.length;t<s;t++)(e=arguments[t])&&(a=function e(a){var t,l,s="";if("string"==typeof a||"number"==typeof a)s+=a;else if("object"==typeof a){if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(l=e(a[t]))&&(s&&(s+=" "),s+=l)}else for(l in a)a[l]&&(s&&(s+=" "),s+=l)}return s}(e))&&(l&&(l+=" "),l+=a);return l}}},function(e){e.O(0,[476,506,971,23,744],function(){return e(e.s=6862)}),_N_E=e.O()}]);