(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{835:function(e,t,s){Promise.resolve().then(s.bind(s,1039))},3231:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8960:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1039:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(7437),r=s(8087),i=s(7138),l=s(6648),c=s(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var n=s(7592);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),m=(0,c.Z)("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var h=s(8960),x=s(9989);function g(e){let{products:t}=e,s=(0,r.useTranslations)(),{addItem:i}=(0,x.j)();return(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-5 gap-4",children:t.map(e=>(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl border border-gray-200 p-4 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("span",{className:"absolute top-3 left-3 z-10 bg-[#7dd3fc] text-white text-xs font-bold px-2 py-1 rounded",children:s("home.bestsellers.hitBadge")}),(0,a.jsx)("div",{className:"h-32 relative mb-4 rounded-lg overflow-hidden bg-gray-50",children:(0,a.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,sizes:"200px",className:"object-contain p-2"})}),(0,a.jsx)("h3",{className:"text-sm text-gray-800 mb-3 line-clamp-2 min-h-[40px] font-medium",children:e.name}),(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-gray-400 line-through text-xs",children:e.oldPrice}),(0,a.jsxs)("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded font-bold",children:["-",e.discount,"%"]})]}),(0,a.jsxs)("span",{className:"text-black font-bold text-base",children:[e.price," ",s("currency.uah")]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>i({id:e.id,name:e.name,price:e.price,image:e.image}),className:"w-9 h-9 rounded-full border-2 border-[#7dd3fc] text-[#7dd3fc] flex items-center justify-center hover:bg-[#7dd3fc] hover:text-white transition-colors","aria-label":s("cart.add",{name:e.name}),children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})]})]},e.id))})}function u(){let e=(0,r.useTranslations)(),t=(0,r.useLocale)(),s=e=>"/".concat(t).concat(e),c=[{id:"carp-rods",name:e("home.categories.carpRods"),image:"/category/wendka.webp"},{id:"carp-reels",name:e("home.categories.carpReels"),image:"/category/kolowrotek.webp"},{id:"feeder-rods",name:e("home.categories.feederRods"),image:"/category/wendka.webp"},{id:"feeder-reels",name:e("home.categories.feederReels"),image:"/category/kolowrotek.webp"},{id:"lines",name:e("home.categories.lines"),image:"/category/zylki.jpg"},{id:"hooks",name:e("home.categories.hooks"),image:"/category/aksesoria.jpg"},{id:"baits",name:e("home.categories.baits"),image:"/category/zenety.jpg"},{id:"accessories",name:e("home.categories.accessories"),image:"/category/aksesoria.jpg"},{id:"clothing",name:e("home.categories.clothing"),image:"/category/camping.webp"},{id:"camping",name:e("home.categories.camping"),image:"/category/camping.webp"}],h=[{id:"hit-1",name:e("home.bestsellers.items.hit1"),oldPrice:20250,price:16200,discount:20,image:"/category/camping.webp"},{id:"hit-2",name:e("home.bestsellers.items.hit2"),oldPrice:153,price:115,discount:25,image:"/category/zenety.jpg"},{id:"hit-3",name:e("home.bestsellers.items.hit3"),oldPrice:16848,price:13478,discount:20,image:"/category/camping.webp"},{id:"hit-4",name:e("home.bestsellers.items.hit4"),oldPrice:1700,price:1275,discount:25,image:"/category/camping.webp"},{id:"hit-5",name:e("home.bestsellers.items.hit5"),oldPrice:4257,price:3406,discount:20,image:"/category/aksesoria.jpg"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"relative h-[80vh] overflow-hidden bg-slate-900 text-white",children:[(0,a.jsx)("div",{className:"absolute inset-0",children:(0,a.jsx)(l.default,{src:"/hero-images/hero-bg.png",alt:e("home.hero.backgroundAlt"),fill:!0,priority:!0,className:"object-fill object-center"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/55 via-black/35 to-black/60"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(125,211,252,0.25),transparent_45%),radial-gradient(circle_at_80%_30%,rgba(255,255,255,0.18),transparent_40%)] mix-blend-screen"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(115deg,rgba(255,255,255,0.08)_0%,rgba(255,255,255,0)_45%,rgba(125,211,252,0.15)_60%,rgba(255,255,255,0)_100%)] opacity-70"}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.07] mix-blend-soft-light [background-image:repeating-linear-gradient(0deg,rgba(255,255,255,0.18)_0px,rgba(255,255,255,0.18)_1px,rgba(255,255,255,0)_2px,rgba(255,255,255,0)_4px)]"}),(0,a.jsxs)("div",{className:"absolute inset-0 opacity-40",children:[(0,a.jsx)("div",{className:"absolute -top-10 left-10 h-40 w-40 rounded-full border border-white/25"}),(0,a.jsx)("div",{className:"absolute top-10 right-16 h-28 w-28 rounded-full border border-white/15"}),(0,a.jsx)("div",{className:"absolute bottom-20 left-20 h-24 w-24 rounded-full border border-white/15"}),(0,a.jsx)("div",{className:"absolute top-20 left-1/2 h-64 w-[2px] bg-white/15"}),(0,a.jsx)("div",{className:"absolute bottom-10 right-1/3 h-[2px] w-48 bg-white/15"})]}),(0,a.jsx)("div",{className:"absolute -top-48 left-1/2 w-[720px] h-[720px] -translate-x-1/2 rounded-full bg-[#7dd3fc]/18 blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-48 right-[-10%] w-[520px] h-[520px] rounded-full bg-white/10 blur-3xl"}),(0,a.jsx)("div",{className:"relative z-10 container mx-auto px-4 pt-28 pb-8 lg:pt-32 lg:pb-10",children:(0,a.jsx)("div",{className:"grid lg:grid-cols-[1fr] gap-10 lg:gap-16 items-center",children:(0,a.jsxs)("div",{className:"text-center lg:text-left lg:max-w-3xl",children:[(0,a.jsx)("h1",{className:"font-heading text-5xl sm:text-6xl md:text-7xl lg:text-8xl text-white mb-4 leading-[0.92] tracking-tight",children:e("hero.title")}),(0,a.jsx)("h2",{className:"font-heading text-3xl sm:text-4xl md:text-5xl lg:text-6xl mb-6 tracking-tight gradient-text",children:e("hero.subtitle")}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-white/90 max-w-2xl mx-auto lg:mx-0 mb-8 font-medium",children:e("hero.description")}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center lg:justify-start gap-3 mb-8",children:[(0,a.jsxs)("div",{className:"group flex items-center gap-3 text-white text-sm font-semibold px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur-md shadow-[0_8px_24px_rgba(0,0,0,0.25)] hover:bg-white/20 transition",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-[#7dd3fc]/20 border border-[#7dd3fc]/40",children:(0,a.jsx)(d,{className:"w-4 h-4 text-[#7dd3fc]"})}),e("home.hero.bullets.original")]}),(0,a.jsxs)("div",{className:"group flex items-center gap-3 text-white text-sm font-semibold px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur-md shadow-[0_8px_24px_rgba(0,0,0,0.25)] hover:bg-white/20 transition",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-[#7dd3fc]/20 border border-[#7dd3fc]/40",children:(0,a.jsx)(d,{className:"w-4 h-4 text-[#7dd3fc]"})}),e("home.hero.bullets.warranty")]}),(0,a.jsxs)("div",{className:"group flex items-center gap-3 text-white text-sm font-semibold px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur-md shadow-[0_8px_24px_rgba(0,0,0,0.25)] hover:bg-white/20 transition",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-[#7dd3fc]/20 border border-[#7dd3fc]/40",children:(0,a.jsx)(d,{className:"w-4 h-4 text-[#7dd3fc]"})}),e("home.hero.bullets.delivery")]})]})]})})})]}),(0,a.jsx)("section",{className:"py-16 bg-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("h2",{className:"font-heading text-3xl md:text-4xl text-slate-800 mb-8 italic",children:e("home.popular.title")}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:c.map(e=>(0,a.jsxs)(i.default,{href:s("/catalog/".concat(e.id)),className:"group relative aspect-square rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.02]",children:[(0,a.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 16vw",className:"object-cover transition-transform duration-500 group-hover:scale-110"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-end p-4",children:(0,a.jsx)("h3",{className:"font-heading text-white text-sm md:text-base leading-tight uppercase tracking-wide drop-shadow-lg",children:e.name})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[#7dd3fc]/0 group-hover:bg-[#7dd3fc]/20 transition-colors duration-300"})]},e.id))})]})}),(0,a.jsx)("section",{className:"py-16 bg-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("h2",{className:"font-heading text-3xl md:text-4xl text-slate-800",children:e("home.bestsellers.title")}),(0,a.jsxs)(i.default,{href:s("/catalog/bestsellers"),className:"text-[#7dd3fc] font-semibold hover:underline flex items-center gap-1",children:[e("home.bestsellers.viewAll"),(0,a.jsx)(n.Z,{className:"w-4 h-4"})]})]}),(0,a.jsxs)("div",{className:"hidden sm:flex gap-2",children:[(0,a.jsx)("button",{className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5 rotate-180"})}),(0,a.jsx)("button",{className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2 md:col-span-1 relative rounded-2xl overflow-hidden bg-gradient-to-b from-sky-300 to-sky-100 p-6 flex flex-col justify-between min-h-[320px]",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"font-heading text-2xl text-slate-800 leading-tight whitespace-pre-line",children:e("home.bestsellers.promoTitle")})}),(0,a.jsxs)(i.default,{href:s("/catalog"),className:"inline-flex items-center gap-2 bg-[#7dd3fc] text-white font-bold px-5 py-2.5 rounded-full w-fit hover:bg-[#38bdf8] transition-colors",children:[e("home.bestsellers.more"),(0,a.jsx)(o,{className:"w-4 h-4"})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4 text-4xl",children:"❄️"}),(0,a.jsx)("div",{className:"absolute bottom-20 right-8 w-20 h-20 bg-orange-500 rounded-full"})]}),(0,a.jsx)("div",{className:"col-span-2 md:col-span-2 lg:col-span-5",children:(0,a.jsx)(g,{products:h})})]})]})}),(0,a.jsx)("section",{className:"py-20 bg-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"rounded-3xl overflow-hidden relative",style:{backgroundColor:"#0b1e2e"},children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-1/3 h-full opacity-20 hidden lg:block",children:(0,a.jsx)(l.default,{src:"/hero-images/5.jpg",alt:"",fill:!0,className:"object-cover"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0b1e2e] via-[#0b1e2e]/95 to-transparent"}),(0,a.jsx)("div",{className:"relative z-10 p-8 md:p-12 lg:p-16",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[(0,a.jsxs)("div",{className:"text-center lg:text-left max-w-2xl",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6",style:{backgroundColor:"rgba(125, 211, 252, 0.2)",border:"1px solid rgba(125, 211, 252, 0.4)"},children:[(0,a.jsx)(m,{className:"w-5 h-5",style:{color:"#7dd3fc"}}),(0,a.jsx)("span",{style:{color:"#bae6fd"},className:"text-sm font-semibold uppercase tracking-wider",children:e("home.partner.badge")})]}),(0,a.jsx)("h2",{className:"font-heading text-3xl md:text-4xl lg:text-5xl text-white mb-4",children:e("home.partner.title")}),(0,a.jsx)("p",{className:"text-white/80 text-lg max-w-xl mb-8",children:e("home.partner.description")}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-heading text-white mb-1",children:"100%"}),(0,a.jsx)("div",{className:"text-white/60 text-sm",children:e("home.partner.stats.original")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-heading text-white mb-1",children:"24/7"}),(0,a.jsx)("div",{className:"text-white/60 text-sm",children:e("home.partner.stats.support")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-heading text-white mb-1",children:"2+"}),(0,a.jsx)("div",{className:"text-white/60 text-sm",children:e("home.partner.stats.warranty")})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)(i.default,{href:s("/catalog"),className:"inline-flex items-center justify-center gap-2 px-8 py-4 font-bold text-lg rounded-xl transition-all duration-300 hover:scale-105",style:{backgroundColor:"#7dd3fc",color:"#0f0f0f"},children:[e("home.partner.primaryCta"),(0,a.jsx)(o,{className:"w-5 h-5"})]}),(0,a.jsx)(i.default,{href:s("/about"),className:"inline-flex items-center justify-center gap-2 px-8 py-4 border-2 border-white/40 hover:border-white text-white font-bold text-lg rounded-xl transition-all duration-300 hover:bg-white/10",children:e("home.partner.secondaryCta")})]})]})})]})})}),(0,a.jsx)("section",{className:"py-12 bg-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsx)("div",{className:"rounded-2xl overflow-hidden relative",style:{backgroundColor:"#7dd3fc"},children:(0,a.jsx)("div",{className:"relative z-10 p-6 md:p-8 lg:p-10",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-8",children:[(0,a.jsxs)("div",{className:"max-w-md text-center lg:text-left",children:[(0,a.jsx)("span",{className:"inline-block px-3 py-1.5 bg-black/20 rounded-full text-white text-xs font-semibold uppercase tracking-wider mb-4",children:e("home.promo.badge")}),(0,a.jsx)("h2",{className:"font-heading text-3xl md:text-4xl text-white mb-4 leading-tight",children:e("home.promo.title")}),(0,a.jsxs)("p",{className:"text-white/90 text-base mb-6 max-w-sm",children:[e("home.promo.discountPrefix")," ",(0,a.jsx)("span",{className:"font-bold text-black",children:"-30%"})," ",e("home.promo.discountSuffix")]}),(0,a.jsx)("div",{className:"flex gap-3 justify-center lg:justify-start",children:(0,a.jsxs)(i.default,{href:s("/catalog?sale=true"),className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white font-bold rounded-xl hover:bg-gray-900 transition-all duration-300 hover:scale-105",children:[e("home.promo.cta"),(0,a.jsx)(o,{className:"w-4 h-4"})]})})]}),(0,a.jsx)("div",{className:"flex gap-3",children:[{image:"/category/wendka.webp",name:e("categories.rods"),href:s("/catalog/rods")},{image:"/category/kolowrotek.webp",name:e("categories.reels"),href:s("/catalog/reels")},{image:"/category/camping.webp",name:e("categories.camping"),href:s("/catalog/tents")},{image:"/category/zenety.jpg",name:e("categories.bait"),href:s("/catalog/baits")}].map((e,t)=>(0,a.jsxs)(i.default,{href:e.href,className:"group relative w-24 h-24 md:w-28 md:h-28 rounded-xl overflow-hidden bg-white shadow-lg hover:scale-110 transition-transform duration-300",children:[(0,a.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,sizes:"120px",className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:e.name})})]},t))})]})})})})})]})}},9989:function(e,t,s){"use strict";s.d(t,{Z:function(){return m},j:function(){return h}});var a=s(7437),r=s(2265),i=s(3231),l=s(8087),c=s(3866);let d=(0,r.createContext)(void 0),n="dreams-bait-cart",o=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);function m(e){let{children:t}=e,s=(0,l.useTranslations)(),[m,h]=(0,r.useState)([]),[x,g]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)(null),[w,N]=(0,r.useState)(!1),y=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=!0;c.O.auth.getSession().then(t=>{var s,a;let{data:r}=t;if(!e)return;let i=r.session;g(!!i),p(null!==(a=null==i?void 0:null===(s=i.user)||void 0===s?void 0:s.id)&&void 0!==a?a:null),f(!0)});let{data:t}=c.O.auth.onAuthStateChange((t,s)=>{var a,r;e&&(g(!!s),p(null!==(r=null==s?void 0:null===(a=s.user)||void 0===a?void 0:a.id)&&void 0!==r?r:null),f(!0))});return()=>{e=!1,t.subscription.unsubscribe()}},[]),(0,r.useEffect)(()=>{if(b&&!x&&w)try{localStorage.setItem(n,JSON.stringify(m))}catch(e){}},[m,x,b,w]),(0,r.useEffect)(()=>{if(b){if(x){let e=async()=>{if(!u)return;let{data:e,error:t}=await c.O.from("cart_items").select("product_id, name, image_url, price, qty").eq("user_id",u).order("created_at",{ascending:!1});!t&&e&&h(e.map(e=>{var t,s;return{id:null!==(t=e.product_id)&&void 0!==t?t:e.name,name:e.name,price:Number(e.price),image:null!==(s=e.image_url)&&void 0!==s?s:"",qty:e.qty}}))};(async()=>{try{let e=localStorage.getItem(n);if(!e)return;let t=JSON.parse(e);if(!Array.isArray(t)||0===t.length)return;let s=t.map(e=>({user_id:u,product_id:o(e.id)?e.id:null,name:e.name,image_url:e.image,price:e.price,qty:e.qty}));await c.O.from("cart_items").upsert(s,{onConflict:"user_id,product_id"}),localStorage.removeItem(n)}catch(e){}})().then(e)}else try{let e=localStorage.getItem(n);if(e){let t=JSON.parse(e);Array.isArray(t)&&h(t)}N(!0)}catch(e){N(!0)}}},[x,b,u]);let k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;h(s=>{let a=s.find(t=>t.id===e.id),r=a?s.map(s=>s.id===e.id?{...s,qty:s.qty+t}:s):[...s,{...e,qty:t}];if(x&&u){let s=a?a.qty+t:t;c.O.from("cart_items").upsert({user_id:u,product_id:o(e.id)?e.id:null,name:e.name,image_url:e.image,price:e.price,qty:s},{onConflict:"user_id,product_id"})}else try{localStorage.setItem(n,JSON.stringify(r)),N(!0)}catch(e){}return r}),v({id:Date.now(),name:e.name}),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{v(null)},2200)},_=e=>{h(t=>{let s=t.filter(t=>t.id!==e);return x&&u&&c.O.from("cart_items").delete().eq("user_id",u).eq("product_id",o(e)?e:null),s})},C=(e,t)=>{h(s=>{let a=s.map(s=>s.id===e?{...s,qty:t}:s).filter(e=>e.qty>0);return x&&u&&(t<=0?c.O.from("cart_items").delete().eq("user_id",u).eq("product_id",o(e)?e:null):c.O.from("cart_items").update({qty:t}).eq("user_id",u).eq("product_id",o(e)?e:null)),a})},S=()=>{if(h([]),x&&u)c.O.from("cart_items").delete().eq("user_id",u);else try{localStorage.removeItem(n)}catch(e){}},z=(0,r.useMemo)(()=>{let e=m.reduce((e,t)=>e+t.qty,0),t=m.reduce((e,t)=>e+t.qty*t.price,0);return{items:m,itemCount:e,total:t,addItem:k,removeItem:_,updateQty:C,clear:S}},[m]);return(0,a.jsxs)(d.Provider,{value:z,children:[t,j&&(0,a.jsxs)("div",{className:"fixed top-24 right-6 z-[70] flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-xl",children:[(0,a.jsx)("span",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-emerald-100 text-emerald-600",children:(0,a.jsx)(i.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:s("cart.added")}),(0,a.jsx)("div",{className:"text-xs text-slate-500 line-clamp-1",children:j.name})]})]})]})}function h(){let e=(0,r.useContext)(d);if(!e)throw Error("useCart must be used within CartProvider");return e}},3866:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var a=s(7204);let r="https://vlrzcbmjbywdptqizrmk.supabase.co".trim(),i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZscnpjYm1qYnl3ZHB0cWl6cm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzNjM0NzksImV4cCI6MjA4NDkzOTQ3OX0.pgB3GB70WRz95nQVMUvpQa8iSPwkpCO2g6Z4BVfZOiM".trim();if(!r||!i)throw Error("Missing Supabase environment variables.");try{new URL(r)}catch(e){throw Error('Invalid NEXT_PUBLIC_SUPABASE_URL: "'.concat(r,'". Use https://<project>.supabase.co'))}let l=(0,a.eI)(r,i)}},function(e){e.O(0,[476,506,648,971,23,744],function(){return e(e.s=835)}),_N_E=e.O()}]);